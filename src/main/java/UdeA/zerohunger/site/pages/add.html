<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</head>
<body>

<h2>Adicionar Hogar</h2>
<form action="http://localhost:8080/homes/" method="POST">

    <label for="submissionDate">Fecha:</label><br>
    <input type="date" id="submissionDate" name="submissionDate" value="" class="form-control"><br>

    <label for="nombre">Nombre:</label><br>
    <input type="text" id="nombre" name="nombre" value="" class="form-control"><br>

    <label for="gradoEscolaridad">Escolaridad:</label><br>
    <input type="text" id="gradoEscolaridad" name="gradoEscolaridad" value="" class="form-control"><br>

    <label for="jefeFamilia">Jefe de Familia:</label><br>
    <input type="text" id="jefeFamilia" name="jefeFamilia" value="" class="form-control"><br>

    <label for="salario">Salario:</label><br>
    <input type="text" id="salario" name="salario" value="" class="form-control"><br>

    <label for="miembros">Integrantes:</label><br>
    <input type="text" id="miembros" name="miembros" value="" class="form-control"><br>

    <label for="habitaciones">Habitaciones:</label><br>
    <input type="text" id="habitaciones" name="habitaciones" value="" class="form-control"><br>

    <label for="comidas">Comidas:</label><br>
    <input type="text" id="comidas" name="comidas" value="" class="form-control"><br>

    <input type="submit" value="Guardar" class="btn btn-primary" onclick="addHome();">
</form>

<a href="index.html" class="link-secondary">Volver al inicio</a>


<script>
    
    function addHome(){
        console.log("Adicionando Hogar");
        var xmlhttp = new XMLHttpRequest();

        xmlhttp.open("POST", "http://localhost:8080/homes/", true);
        xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

        var submissionDate = document.getElementById("submissionDate");
        var nombre = document.getElementById("nombre");
        var gradoEscolaridad = document.getElementById("gradoEscolaridad");
        var jefeFamilia = document.getElementById("jefeFamilia");
        var salario = document.getElementById("salario");
        var miembros = document.getElementById("miembros");
        var habitaciones = document.getElementById("habitaciones");
        var comidas = document.getElementById("comidas");

        var newHome = {
            "submissionDate": submissionDate.value,
            "nombre": nombre.value,
            "gradoEscolaridad": gradoEscolaridad.value,
            "jefeFamilia": jefeFamilia.value,
            "salario": salario.value,
            "miembros": miembros.value,
            "habitaciones": habitaciones.value,
            "comidas": comidas.value
        };

        xmlhttp.send(JSON.stringify(newHome));
    }
</script>

</body>
</html>